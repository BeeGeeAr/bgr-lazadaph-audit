//https://www.toptal.com/developers/javascript-minifier
javascript: (function () { !async function () { let e = e => new Promise(t => setTimeout(t, e)), t = []; async function n() { let e = document.querySelectorAll(".order-item"), n = document.querySelectorAll(".shop-right-status"); e.forEach((e, l) => { let a = e.querySelector(".item-title")?.innerText.trim(), i = e.querySelector(".item-price.text.bold")?.innerText.trim(), r = e.querySelector(".item-quantity")?.innerText.trim(), o = n[l]?.innerText.trim() || "Unknown"; if (a && i) { let c = parseFloat(i.replace(/[^0-9.]/g, "")), d = parseInt(r.replace(/[^0-9]/g, "")) || 1; t.push({ title: a, quantity: d, total: c * d, status: o }) } }) } async function l() { let e = document.querySelector(".next-pagination-item.current + .next-pagination-item"); return !!e && !e.classList.contains("disabled") && (e.click(), !0) } async function a() { let a = 1; for (; ;) { console.log(`üìÑ Scraping Page ${a}...`), await e(3e3), await n(); let i = await l(); if (!i) break; a++ } !function e() { let n = document.getElementById("mylazadatotal") || (() => { let e = document.createElement("div"); return e.id = "mylazadatotal", e.style.background = "white", e.style.color = "black", e.style.padding = "20px", e.style.margin = "10px", document.body.insertBefore(e, document.body.firstChild), e })(); n.innerHTML = ""; let l = document.createElement("h2"); l.innerText = "\uD83D\uDCE6 BGR | LazadaPH Order Audit", l.style.marginBottom = "20px", n.appendChild(l); let a = 0, i = {}; t.forEach(({ title: e, quantity: t, total: l, status: r }) => { let o = r.charAt(0).toUpperCase() + r.slice(1).toLowerCase(); a += l, i[o] || (i[o] = 0), i[o] += l; let c = document.createElement("p"); c.innerText = `[ ‚Ç±${l.toFixed(2)} ] ‚Äî ${e} (${t}) [${o}]`, n.appendChild(c) }); let r = document.createElement("p"); r.innerText = `üí∞ Grand Total: ‚Ç±${a.toFixed(2)}`, r.style.marginTop = "20px", r.style.fontWeight = "bold", r.style.fontSize = "16px", n.appendChild(r); let o = document.createElement("h3"); o.innerText = "\uD83D\uDCCC Subtotals by Order Status:", o.style.marginTop = "15px", n.appendChild(o), Object.entries(i).forEach(([e, t]) => { let l = document.createElement("p"); l.innerText = `‚Ä¢ ${e}: ‚Ç±${t.toFixed(2)}`, n.appendChild(l) }); let c = document.createElement("p"); c.innerText = "\uD83E\uDDE0 Compiled by BeeGeeAr | ‚òï Fueled by caffeine & \uD83D\uDECDÔ∏è shopping regrets \uD83D\uDE02.", c.style.marginTop = "25px", c.style.fontStyle = "italic", c.style.color = "#666", n.appendChild(c); let d = document.createElement("p"); d.innerHTML = `üîó Inspired by the original <a href="https://github.com/limkokhole/MyLazadaTotal" target="_blank" style="color: #0077cc; text-decoration: none;">MyLazadaTotal</a> by @limkokhole on GitHub.`, d.style.marginTop = "5px", d.style.fontSize = "12px", d.style.color = "#999", n.appendChild(d); let p = document.createElement("button"); p.innerText = "‚¨áÔ∏è Download CSV", p.style.marginTop = "15px", p.style.padding = "10px", p.style.background = "#0077cc", p.style.color = "white", p.style.border = "none", p.style.cursor = "pointer", p.style.borderRadius = "5px", p.onclick = () => (function e(t) { let n = [["Title", "Quantity", "Total", "Status"]]; t.forEach(({ title: e, quantity: t, total: l, status: a }) => { n.push([`"${e}"`, t, l.toFixed(2), `"${a}"`]) }); let l = n.map(e => e.join(",")).join("\n"), a = new Blob([l], { type: "text/csv" }), i = URL.createObjectURL(a), r = document.createElement("a"); r.href = i, r.download = `BGR_LazadaPH_OrderAudit_${new Date().toISOString().slice(0, 10)}.csv`, r.click(), URL.revokeObjectURL(i) })(t), n.appendChild(p) }() } await a() }(); })();